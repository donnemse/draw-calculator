<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Draw Calculation</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f0f4f8;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
        }

        .container {
            background-color: #fff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
            margin-bottom: 20px;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
            font-size: 24px;
        }

        label {
            font-size: 16px;
            color: #555;
            display: block;
            margin-bottom: 8px;
        }

        select {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
        }

        input {
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            box-sizing: border-box;
        }

        input[type="checkbox"] {
            width: auto;
            margin-right: 10px;
        }

        .results {
            margin-top: 20px;
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background-color: #f9fafb;
            margin-bottom: 8px;
            border-radius: 8px;
            font-size: 14px;
        }

        .result-row span {
            font-weight: bold;
        }

        .result-number {
            color: #d32f2f; /* Bright red for better visibility */
            font-weight: bold;
        }

        #total-row {
            background-color: #ffeb3b;
            font-size: 16px;
            font-weight: bold;
        }

        #result {
            color: #d32f2f;
            font-weight: bold;
            display: none;
            margin-bottom: 10px;
            text-align: center;
        }

        .input-group {
            display: flex;
            justify-content: center;
            gap: 5px;
        }

        .input-group button {
            width: 40px;
            height: 42px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f0f4f8;
            cursor: pointer;
            vertical-align: middle; /* Align vertically with input */
        }

        .input-group input {
            width: 100%;
            max-width: 120px;
            text-align: center;
            height: 42px; /* Ensure the input height matches the button */
            vertical-align: middle; /* Align vertically with buttons */
        }

        footer {
            text-align: center;
            font-size: 12px;
            color: #555;
        }

        .section h2 {
            font-size: 18px;
            color: #333;
            margin-bottom: 12px;
            text-align: center;
        }

        .section p {
            font-size: 14px;
            color: #555;
            line-height: 1.6;
            margin-bottom: 12px;
        }

        .section ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .section li {
            background-color: #f9fafb;
            margin-bottom: 8px;
            padding: 10px;
            border-radius: 8px;
            font-size: 14px;
            color: #555;
        }

        .section li .highlight {
            color: #d32f2f;
            font-weight: bold;
        }

        /* Mobile responsiveness */
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }

            .container {
                padding: 15px;
            }

            h1 {
                font-size: 22px;
            }

            label, input, select {
                font-size: 16px;
            }

            .result-row {
                font-size: 13px;
                padding: 8px;
            }
        }
        .styled-link {
            display: inline-block;
            padding: 10px 20px;
            background-color: #007BFF;
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            font-size: 14px;
            transition: background-color 0.3s ease;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .styled-link:hover {
            background-color: #0056b3;
        }

        .styled-link:active {
            background-color: #004085;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

    </style>
    <script>
        function updateDraws(value) {
            const inputBox = document.getElementById('n');
            let currentValue = parseInt(inputBox.value) || 0;
            currentValue += value;
            if (currentValue < 0) currentValue = 0;
            inputBox.value = currentValue;
            calculate();
        }

        function calculate() {
            const n = parseFloat(document.getElementById('n').value) || 0;
            const rankValue = parseFloat(document.getElementById('rank').value) || 0;
            const coinPurchase = document.getElementById('coinPurchase').checked;

            const rankMinValues = {
                250: 600,
                200: 500,
                150: 400,
                120: 300,
                100: 200,
                50: 100,
                40: 100,
                30: 100
            };

            const minRequiredN = rankMinValues[rankValue];

            if (n < minRequiredN) {
                document.getElementById('result').innerText = "선택한 랭크에 필요한 최소 뽑기 횟수: " + minRequiredN;
                document.getElementById('result').style.display = 'block';

                document.getElementById('pieceProbability').innerText = '0';
                document.getElementById('drawReward').innerText = '0';
                document.getElementById('coinReward').innerText = '0';
                document.getElementById('rankReward').innerText = '0';
                document.getElementById('total').innerText = '0';
                return;
            }

            document.getElementById('result').style.display = 'none';

            const pieceProbability = n * 0.1588;
            const drawReward = Math.floor(n / 50) * 25;
            const coinReward = coinPurchase ? Math.floor(n / 4) : 0;
            const total = pieceProbability + drawReward + coinReward + rankValue;

            document.getElementById('pieceProbability').innerText = pieceProbability.toFixed(2);
            document.getElementById('drawReward').innerText = drawReward.toString()
            document.getElementById('coinReward').innerText = coinReward.toString()
            document.getElementById('rankReward').innerText = rankValue.toString();
            document.getElementById('total').innerText = total.toFixed(2);
        }
    </script>
</head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-41FZMXQX72"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-41FZMXQX72');
</script>
<body onload="calculate()">
    <div class="container">
        <h1>Draw Calculation</h1>

        <label for="n">뽑기 횟수: </label>
        <div class="input-group">
            <button onclick="updateDraws(-10)">-10</button>
            <button onclick="updateDraws(-1)">-1</button>
            <input type="number" id="n" value="300" oninput="calculate()">
            <button onclick="updateDraws(1)">+1</button>
            <button onclick="updateDraws(10)">+10</button>
        </div>

        <label for="rank">랭크: </label>
        <select id="rank" onchange="calculate()">
            <option value="250">1위 (+250)</option>
            <option value="200">2-3위 (+200)</option>
            <option value="150">4-6위 (+150)</option>
            <option value="120">7-10위 (+120)</option>
            <option value="100" selected>11-20위 (+100)</option>
            <option value="50">21-30위 (+50)</option>
            <option value="40">31-50위 (+40)</option>
            <option value="30">51-100위 (+30)</option>
        </select>

        <label>
            <input type="checkbox" id="coinPurchase" checked onchange="calculate()"> 코인 구입 포함(4뽑당 1조각)
        </label>

        <div class="results">
            <p id="result"></p>

            <div class="result-row">
                <span>조각뽑기(15.88%)</span>
                <span class="result-number" id="pieceProbability">0</span>
            </div>
            <div class="result-row">
                <span>50뽑기당 보상</span>
                <span class="result-number" id="drawReward">0</span>
            </div>
            <div class="result-row">
                <span>코인구입</span>
                <span class="result-number" id="coinReward">0</span>
            </div>
            <div class="result-row">
                <span>랭크보상</span>
                <span class="result-number" id="rankReward">0</span>
            </div>
            <div class="result-row" id="total-row">
                <span>총 조각</span>
                <span class="result-number" id="total">0</span>
            </div>
        </div>
        <div style="text-align: center;">
            <a href="optimal_draw_calculator.html" class="styled-link">'한시뽑기 효율 계산기'로 이동</a>
        </div>
    </div>
    <div class="container">
        <h1>Optimizing Draw Count</h1>

        <div class="section">
            <h2>전략 1: 뽑기 횟수 최적화</h2>
            <p><strong>목표:</strong> 고정 보상과 추가 보상을 최대한 효율적으로 획득하기 위해, 특정 조건에서 보상 효과가 극대화되는 지점을 찾는 것</p>
            <ul>
                <li>50회 단위로 뽑기: <span class="highlight">50회의 뽑기마다</span> 고정적으로 추가 보상(25조각)이 주어지므로, 뽑기 횟수를 50회 단위로 맞추는 것이 중요합니다.</li>
                <li>4회 단위 추가 보상 고려: <span class="highlight">4의 배수로</span> 뽑기를 하면 추가 코인 보상을 효율적으로 얻을 수 있습니다.</li>
            </ul>
        </div>

        <div class="section">
            <h2>전략 2: 랭크 보상 최적화</h2>
            <p><strong>목표:</strong> 랭크 보상을 최대한 효율적으로 획득하여 추가 조각을 얻는 것</p>
            <ul>
                <li>급하지 않다면 1회 한시 이벤트에서 700조각을 모으려 하지 말고, <span class="highlight">회차를 나누어 랭크 보상을 여러 번 획득</span>하는 것이 좋습니다.</li>
                <li>전략: 2~3회차에 걸쳐 한시 뽑기를 실행하여 최소 요구 조건에 맞춘 랭크 보상을 획득</li>
                <li> * 3회에 걸쳐 100뽑(30위 - 50조각), 200뽑(20위 - 100조각), 200뽑(20위 안 - 100조각)으로 총 500뽑기</li>
                <li> * 2회에 걸쳐 250뽑(20위 - 100조각), 300뽑(20위 - 100조각)으로 총 550뽑기</li>
            </ul>
        </div>

        <div class="section">
            <h2>전략 3: 확률적 보상 기대치 최적화</h2>
            <p><strong>목표:</strong> 이벤트에서의 확률적 보상을 기반으로 충분한 뽑기를 실행하여 기대값을 극대화하는 것</p>
            <ul>
                <li><span class="highlight">15.88%의 확률</span>로 조각을 획득할 수 있으므로, 확률적인 기대값에 기반하여 충분한 뽑기 횟수를 실행하는 것이 중요합니다.</li>
                <li>전략: 이벤트 횟수가 적을 때는 운에 의해 결과가 크게 달라질 수 있지만, 많은 횟수를 반복하면 평균에 수렴하는 보상을 받을 가능성이 높아집니다.</li>
            </ul>
        </div>
    </div>

    <footer>
        Develop by null (H68)
    </footer>
    
</body>
</html>
